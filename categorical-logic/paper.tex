\documentclass{amsart}
\input{decls}
\title{Algebraic Theory}
\author{Frank Tsai}
\date{\today}
%\thanks{}
\begin{document}
\maketitle
\tableofcontents

\newcommand{\interp}[1]{\llbracket #1 \rrbracket}

\section{Universal Algebra}
\label{sec:universal-algebra}

The theory of groups $\cG$ can be described by specifying
\begin{enumerate}
\item a denumerable set of variables $x, y, z, \ldots$;
\item three formal symbols $+, -, 0$.
\end{enumerate}

The terms of the theory of groups are defined inductively:
\begin{enumerate}
\item variables are terms;
\item $0$ is a term;
\item if $t$ is a term, then $-t$ is a term;
\item if $t_{1}$ and $t_{2}$ are terms, then $t_{1} + t_{2}$ is a term.
\end{enumerate}

The axioms of the theory of groups are the following:
\begin{enumerate}
\item $x + (y + z) = (x + y) + z$
\item $x + 0 = x$
\item $0 + x = x$
\item $x + (-x) = 0$
\item $(-x) + x = 0$
\end{enumerate}

\begin{defn}
  A \emph{premodel} of the theory of groups $\cG$ consists of
  \begin{enumerate}
  \item a set $G$;
  \item an element $\hat{0} \in G$;
  \item a unary function $\hat{-} : G \to G$;
  \item a binary function $\hat{+} : G \times G \to G$.
  \end{enumerate}
\end{defn}

Given a premodel $(G, \hat{0}, \hat{-}, \hat{+})$, terms are interpreted recursively in this premodel:
\begin{enumerate}
\item $\interp{x}$ is any element of $G$;
\item $\interp{0}$ is $\hat{0}$;
\item $\interp{-t}$ is $\hat{-}\interp{t}$;
\item $\interp{t_{1} + t_{2}}$ is $\interp{t_{1}} \hat{+} \interp{t_{2}}$.
\end{enumerate}

\begin{defn}
  A premodel $(G, \hat{0}, \hat{-}, \hat{+})$ constitutes a \emph{model} of $\cG$ if for every interpretation of variables, every axiom is satisfied, i.e.,
  \begin{enumerate}
  \item $\interp{x} \hat{+} (\interp{y} \hat{+} \interp{z}) = (\interp{x} \hat{+} \interp{y}) \hat{+} \interp{z}$
  \item $\interp{x} \hat{+} \hat{0} = \interp{x}$
  \item $\hat{0} \hat{+} \interp{x} = \interp{x}$
  \item $\interp{x} \hat{+} (\hat{-}\interp{x}) = \hat{0}$
  \item $(\hat{-}\interp{x}) \hat{+} \interp{x} = \hat{0}$
  \end{enumerate}
\end{defn}

We can repeat this process for rings, $R$-modules, monoids, etc.
In general, algebraic theories fit in the following formal framework:

\begin{defn}
  A \emph{presentation} $\dP$ of an algebraic theory $\cT$ is a theory with equality specified by
  \begin{enumerate}
  \item a denumerable set of variables: $x, y, z, \ldots$;
  \item for each $n \in \dN$, a set $\cO_{n}$ of $n$-ary function symbols;
  \item a set of axioms.
  \end{enumerate}
  Axioms are equalities between terms; terms are defined inductively as follows:
  \begin{enumerate}
  \item variables are terms;
  \item if $f$ is an $n$-ary function symbol and $t_{1},\ldots,t_{n}$ are terms, then $f(t_{1},\ldots,t_{n})$ is a term.
  \end{enumerate}
  A nullary function symbol is also called a \emph{constant}.
\end{defn}

\begin{defn}
  Let $\dP$ be a presentation of an algebraic theory.
  A \emph{premodel} of $\dP$ consists of
  \begin{enumerate}
  \item a set $M$;
  \item a function $\hat{f} : M^{n} \to M$ for each $n$-ary function symbol $f$.
  \end{enumerate}
\end{defn}

Given a premodel, terms are interpreted recursively:
\begin{enumerate}
\item $\interp{x}$ is any element of $M$;
\item $\interp{f(t_{1},\ldots,t_{n})} = \hat{f}(\interp{t_{1}},\ldots,\interp{t_{n}})$.
\end{enumerate}

A model is a premodel in which every axiom is valid.

\begin{defn}
  Let $\sL$ and $\sM$ be models of a presentation $\dP$.
  A $\dP$-homomorphism is a function $\varphi : L \to M$ so that
  \[
    \varphi(\hat{f}_{\sL}(a_{1},\ldots,a_{n})) = \hat{f}_{\sM}(\varphi(a_{1}),\ldots,\varphi(a_{n}))
  \]
  for any function symbol $f$ of $\dP$ and any elements $a_{1},\ldots,a_{n}$ of $L$.
\end{defn}

\begin{lem}
  Let $\dP$ be a presentation of an algebraic theory.
  The models of $\dP$ and their homomorphisms constitute a category.
\end{lem}

Given a presentation $\dP$ of some algebraic theory, we can define a congruence relation on the set of terms.
\begin{mathpar}
  \inferrule*
  { s = t }
  { s \sim t }\and

  \inferrule*
  { s \sim t }
  { s[u_{1},\ldots,u_{n}/x_{1},\ldots,x_{n}] \sim t[u_{1},\ldots,u_{n}/x_{1},\ldots,x_{n}] }\and

  \inferrule*
  { s_{1} \sim t_{1} \\ \cdots \\ s_{n} \sim t_{n} }
  { f(s_{1},\ldots,s_{n}) \sim f(t_{1},\ldots,t_{n}) }
\end{mathpar}
Essentially, two terms $s,t$ are identified if $s = t$ is an axiom.

Suppose that only variables $x_{1},\ldots,x_{n}$ appear in the axioms of $\dP$.
Let $F_{n}$ be the set of terms containing only $x_{1},\ldots,x_{n}$ modulo $\sim$.

\begin{lem}
  $F_{n}$ is a model of $\dP$.
\end{lem}
\begin{proof}
  The underlying set is just $F_{n}$.
  Each function symbol $f$ is interpreted as a function $\hat{f} : F_{n}^{m} \to F_{n}$ mapping $[t_{1}],\ldots,[t_{m}]$ to $[f(t_{1},\ldots,t_{m})]$.
  This interpretation is compatible with $\sim$ due to the last rule.

  It remains to show that all the axioms are satisfied.
  Given an axiom $s = t$, rule 1 says that these two terms are identified.
  For any possible valuation, rule 2 says that they are interpreted as the same thing.
\end{proof}

These models can be generated from a ``generic'' one.
\begin{lem}
  Let $\dP$ be a presentation of an algebraic theory.
  In the category $\mathsf{Mod}_{\dP}$, $F_{n}$ is the $n$-th copower of $F_{1}$.
\end{lem}
\begin{proof}
  For each variable $x_{i}$, let $F^{i}_{1}$ be the set of equivalent classes of terms involving just the variable $x_{i}$.
  This set is isomorphic to $F_{1}$.
  The inclusion
  \[
    \iota_{i} : F^{(i)}_{1} \to F_{n}
  \]
  is a $\dP$-homomorphism.
  These homomorphisms form a cocone.

  Now for any $\dP$-model $\sP$ together with $f_{i} : F^{(i)}_{1} \to \sP$, defining another cocone.
  Consider the function $f : F_{n} \to \sP$ mapping $[x_{i}]$ to the interpretation of $f_{i}(x_{i})$ in $\sP$.
  This function is compatible with $\sim$ because of how interpretation works.
  By construction, $f \circ \iota_{i} = f_{i}$.
\end{proof}

The following lemma is the essence of Lawvere theory.
\begin{lem}
  Let $\dP$ be a presentation of an algebraic theory.
  Let $\sF$ be the full subcategory of $\mathsf{Mod}_{\dP}$ generated by the free models $F_{n}$ on finitely many generators.
  The dual category $\sF\op$ has finite products and $\mathsf{Mod}_{\dP}$ is equivalent to the category of finite-product preserving functors from $\sF\op$ to the category of sets,
  and natural transformations between them.
\end{lem}

\section{Lawvere Theory}
\label{sec:lawvere-theory}

\begin{defn}
  An algebraic theory $\cT$ is a category with a denumerable set of objects $\{T^{0}, T^{1}, T^{2}, \ldots\}$.
  Each object $T^{n}$ is the $n$-th power of $T^{1}$.
  The object $T^{1}$ is known as the \emph{generic object} of the algebraic theory $\cT$.
  The set $\cT(T^{n},T^{1})$ contains all the definable $n$-ary operations for $\cT$.
\end{defn}

Instead of explicitly choosing specific $n$-ary operations, such as group multiplication, for an algebraic theory, Lawvere theory considers \emph{all} definable operations.
Axioms are then expressed as compositions of morphisms.

\begin{defn}
  Let $\cT$ be an algebraic theory.
  A \emph{model} of $\cT$ is a finite-product-preserving functor $F : \cT \to \mathsf{Set}$.
\end{defn}

Such a functor $F$ carries the generic object to the set $F(T^{1})$ and $T^{n}$ to the Cartesian product $F(T^{n}) \iso (F(T))^{n}$.
A morphism $g : T^{m} \to T^{n}$ is mapped to a function $F(g) : (F(T^{1}))^{m} \iso F(T^{m}) \to F(T^{n}) \iso (F(T^{1}))^{n}$.
In particular, an $n$-ary operation $f : T^{n} \to T^{1}$ is mapped to the function $F(f) : (F(T^{1}))^{n} \iso F(T^{n}) \to F(T^{1})$.

\begin{defn}
  A \emph{$\cT$-homomorphism} is a natural transformation between two $\cT$-models.
\end{defn}

Naturality and \cref{lem:T-homomorphism} then ensures that this agrees with the usual notion of homomorphism.
\input{img/02}

\begin{lem}\label{lem:T-homomorphism}
  Let $\cT$ be an algebraic theory.
  If $\alpha : F \to G$ is a morphism in $\mathsf{Mod}_{\cT}$, then the diagram
  \input{img/01}
  commutes and the isomorphisms are the canonical ones.
\end{lem}
\begin{proof}
  By naturality,
  \[
    G(\pi_{i}) \circ \alpha_{T^{n}} = \alpha_{T} \circ F(\pi_{i})
  \]
  for any projection $\pi_{i} : T^{n} \to T$.
  The projections $F(\pi_{i})$ and $G(\pi_{i})$ assemble into the isomorphisms, proving that the diagram commutes.
\end{proof}

$\cT$-models and their homomorphisms form a category $\mathsf{Mod}_{\cT}$.
There is an evident forgetful functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ that evaluates a model $F$ at the generic object $T^{1}$.
In effect, this produces the underlying set of the model.

\begin{lem}
  Let $\cT$ be an algebraic theory.
  Consider the forgetful functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$.
  \begin{enumerate}
  \item $U$ is representable by $\cT(T^{1}, \blank)$;
  \item $U$ is faithful;
  \item $U$ reflects isomorphisms;
  \item each finite set with $n$ elements admits $\cT(T^{n}, \blank)$ as a reflection along $U$;
  \item $\cT(T^{1}, \blank)$ is a strong generator for $\mathsf{Mod}_{\cT}$.
  \end{enumerate}
\end{lem}
\begin{proof}
  Since $\cT(T^{1},\blank)$ is continuous, it is a model of $\cT$.
  By the Yoneda Lemma,
  \[
    \mathsf{Nat}(\cT(T^{1}, \blank), F) \iso F(T^{1}) \iso U(F)
  \]
  Thus, $\cT(T^{1},\blank)$ is a representing object for $U$.

  For each finite set $\{1,\ldots,n\}$, one has
  \begin{align}
    \mathsf{Nat}(\cT(T^{n},\blank), F) &\iso F(T^{n})\\
                                       &\iso (F(T^{1}))^{n}\\
                                       &\iso \mathsf{Set}(\{1,\ldots,n\}, F(T^{1}))\\
                                       &\iso \mathsf{Set}(\{1,\ldots,n\}, U(F))
  \end{align}

  Suppose that $U\alpha = \alpha_{T^{1}} : F(T^{1}) \to G(T^{1})$ is an isomorphism.
  Then by \cref{lem:T-homomorphism}, $\alpha_{T^{n}}$ is an isomorphism.
  Thus, $\alpha$ is an isomorphism.

  Now suppose that $U\alpha = \alpha_{T^{1}} = \beta_{T^{1}} = U\beta$.
  Since every component of $\alpha$ and $\beta$ are determined by $\alpha_{T^{1}}$ and $\beta_{T^{1}}$, respectively, $\alpha = \beta$.
\end{proof}

\begin{lem}
  Let $\cT$ be an algebraic theory and consider the corresponding presentation $\dT_{1}$ of this algebraic theory.
  The categories of models for $\cT$ and $\dT_{1}$ are equivalent and the functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ maps a $\dT_{1}$ model to its underlying set.
\end{lem}
\begin{proof}
  Let $F : \cT \to \mathsf{Set}$ be a $\cT$-model.
  We show that $F$ yields a model of $\dT_{1}$.
  To this end, we need to choose an underlying set and a function for each function symbol.
  We make these choices as follows:
  \begin{enumerate}
  \item Underlying set: $F(T^{1})$.
  \item Functions: for each $f \in \cT(T^{n},T^{1})$, choose
    \input{img/03}
  \end{enumerate}
  By functoriality,
  \begin{enumerate}
  \item $F(\id_{T^{1}}) = \id_{F(T^{1})}$;
  \item $F(f \circ g) = F(f) \circ F(g)$.
  \end{enumerate}
  Thus, the required axioms
  \begin{enumerate}
  \item $\id_{T^{1}}(x) = x$;
  \item $f(g_{1},\ldots,g_{n}) = fg(x_{1},\ldots,x_{n})$
  \end{enumerate}
  hold.
\end{proof}

\section{Limits and Colimits in Algebraic Categories}
\label{sec:limits-and-colimits-in-algebraic-categories}

\begin{lem}
  Let $\cT$ be an algebraic theory.
  The category $\mathsf{Mod}_{\cT}$ is complete and limits are computed pointwise.
  The forgetful functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ preserves and reflects limits.
\end{lem}

\begin{lem}
  Let $\cT$ be an algebraic theory.
  The category $\mathsf{Mod}_{\cT}$ has filtered colimits and these are computed pointwise.
  The forgetful functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ preserves and reflects filtered colimits.
\end{lem}

\begin{lem}
  Let $\cT$ be an algebraic theory.
  In $\mathsf{\cT}$, finite limits commute with filtered colimits.
\end{lem}

\begin{lem}\label{lem:model-category-complete-cocomplete}
  Let $\cT$ be an algebraic theory.
  $\mathsf{Mod}_{\cT}$ is complete and cocomplete because it is reflective in the category $\mathsf{Set}^{\cT}$.
\end{lem}

\section{Algebraic Functors}
\label{sec:algebraic-functors}

\begin{defn}
  Let $\cR$ and $\cT$ be algebraic theories.
  A morphism of algebraic theory is a functor $F : \cR \to \cT$ with preserves finite products and maps $R^{n}$ to $T^{n}$.
\end{defn}

\begin{lem}
  The theory of sets is initial in the category of algebraic theory.
\end{lem}
\begin{proof}
  The algebraic theory of sets $\cS$ is equivalent to the dual of the category of finite sets.
  Thus, in $\cS$ the only $n$-ary operations are the projections.
  Then for any algebraic theory $\cT$, the evident finite-product preserving and identity on object functor $F : \cS \to \cT$ is unique.
\end{proof}

\begin{cor}\label{cor:forgetful-functor-is-precomposition}
  Let $\cT$ be an algebraic theory and $\cS$ be the theory of sets.
  The forgetful functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ is the precomposition with the unique morphism of algebraic theories $\sigma : \cS \to \cT$.
\end{cor}
\begin{proof}
  Let $G : \cT \to \mathsf{Set}$ be a $\cT$-model.
  Then $G \circ \sigma$ is an $\cS$-model since the composite of finite-product-preserving functors is finite-product-preserving.
  The underlying set of this model is $G \circ \sigma(S^{1}) = G(T^{1}) = UG$.
\end{proof}

\begin{defn}
  Let $F : \cR \to \cT$ be a morphism of algebraic theories.
  The precomposition with $F$
  \begin{align}
    F^{*} &: \mathsf{Mod}_{\cT} \to \mathsf{Mod}_{\cR}\\
    F^{*} &: G \mapsto G \circ F
  \end{align}
  is called an \emph{algebraic functor}.
\end{defn}

\begin{thm}\label{thm:algebraic-functor-has-left-adjoint}
  Every algebraic functor has a left adjoint.
\end{thm}

\begin{cor}
  Let $\cT$ be an algebraic theory.
  The forgetful functor $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ has a left adjoint.
\end{cor}
\begin{proof}
  By \cref{cor:forgetful-functor-is-precomposition}, $U : \mathsf{Mod}_{\cT} \to \mathsf{Set}$ is an algebraic functor.
  Then by \cref{thm:algebraic-functor-has-left-adjoint}, $U$ has a left adjoint.
\end{proof}

\section{Freely Generated Models}
\label{sec:freely-generated-models}

\section{Characterization of Algebraic Categories}
\label{sec:characterization-of-algebraic-categories}

\begin{thm}
  Let $\iC$ be a category and $U : \iC \to \mathsf{Set}$ be a functor.
  The following conditions are equivalent:
  \begin{enumerate}
  \item $\iC$ is equivalent to the category of models of some algebraic theory $\cT$, with $U$ the corresponding forgetful functor.
  \item the following conditions are satisfied:
    \begin{enumerate}
    \item $\iC$ has coequalizers and kernel pairs;
    \item $U$ has a left adjoint $F$;
    \item $U$ reflects isomorphisms;
    \item $U$ preserves regular epimorphisms;
    \item $UF$ preserves filtered colimits.
    \end{enumerate}
  \end{enumerate}
\end{thm}

\section{Tensor Products of Theories}
\label{sec:tensor-products-of-theories}

\cref{lem:model-category-complete-cocomplete} showed that the category of models of any algebraic theory is complete and cocomplete.
In fact,

\begin{lem}
  The category of algebraic theories $\mathsf{Th}$ is complete and cocomplete.
\end{lem}


\bibliographystyle{alpha}
\bibliography{all}

\end{document}
