\documentclass{amsart}
\input{decls}
\title{}
\author{Frank Tsai}
\date{\today}
%\thanks{}
\begin{document}
\maketitle
\tableofcontents

\section{Introduction}
\label{sec:introduction}
Basically, a fibration is a categorical structure of \emph{indexing} and \emph{substitution}.

\begin{defn}
  Let $p : \iE \to \iB$ be a functor and $I$ be an object in the base category $\iB$.
  The \emph{fiber category} $\iE_{I} = p\inv(I)$ over $I$ consists of
  \begin{center}
    \begin{tabularx}{\linewidth}{rX}
      \textbf{objects} & an object $X \in \iE_{I}$ is an object in $X \in \iE$ so that $pX = I$.\\
      \textbf{morphisms} & a morphism $f : X \to Y$ in $\iE_{I}$ is a \emph{vertical} morphism $f : X \to Y$ in $\iE_{I}$.
                           That is, $pf = \id_{I}$.
    \end{tabularx}
  \end{center}
\end{defn}

\begin{defn}
  Let $p : \iE \to \iB$ be a functor.
  A morphism $f : X \to Y$ in $\iE$ is \emph{Cartesian} if for any $g : Z \to Y$ in $\iE$, any filling of the cospan $pf : pX \to pY$ and $pg : pZ \to pY$ has a unique lift that fills the cospan in $\iE$.
  \input{img/cartesian01}
  
  A morphism $f : X \to Y$ is said to be \emph{Cartesian over} a morphism $u : I \to J$ in $\iB$ if $f$ is Cartesian and $pf = u$.
\end{defn}

\begin{defn}
  A fibration $p : \iE \to \iB$ is a functor so that for any $Y \in \iE$ and any morphism $u : I \to pY$ in $\iB$, there is a Cartesian morphism $f : X \to Y$ over $u$.
  \input{img/fibration01}

  $f$ is often called the \emph{terminal} or \emph{Cartesian} lifting of $u$.
  Indeed, the use of the definite article ``the'' is justified since Cartesian liftings are unique up to isomorphism (in the slice category).
\end{defn}

\begin{defn}
  A \emph{cloven} fibration $p : \iE \to \iB$ is a fibration equipped with a \emph{cleavage}, i.e., a choice of Cartesian liftings.
\end{defn}

Given a cloven fibration $p : \iE \to \iB$, every morphism $u : I \to J$ in $\iB$ induces a functor $u^{*} : \iE_{J} \to \iE_{I}$, which is often called a \emph{substitution functor}.

For $u : I \to pY$ in the base category $\iB$, the cleavage determines a Cartesian lifting $\ubar(Y) : X \to Y$.
The domain $X$ of the Cartesian lift $\ubar(X)$ is an object in $\iE_{J}$.
This determines the action on objects.

For $f : A \to B$ in $\iE_{J}$, the composite $f \circ \ubar(A)$ is also a Cartesian morphism over $u$.
The projected cospan in $\iB$ can be filled with the identity, which lifts to a unique morphism $u^{*}(A) \to u^{*}(B)$ in $\iE$.
This determines the action on morphisms; uniqueness guarantees that this assignment is functorial.
\input{img/cloven01}

There is an assignment $* : \iB\op \to \mathsf{Cat}$, mapping objects in the base category to its fiber category and morphisms in the base category to its substitution functor.
\begin{mathpar}
  I \mapsto \iE_{I} \and u \mapsto u^{*}
\end{mathpar}
However, this assignment is not functorial.
For any pair of composable morphisms $u, v$ in the base category $\iB$, $u^{*} \circ v^{*}$ is in general not equal to $(v \circ u)^{*}$ on the nose.
Rather, they are naturally isomorphic: for any $k \in \iE_{K}$, both $\ubar(k) \circ \ubar(u^{*}(k))$ and $\overline{v \circ u}(k)$ are Cartesian over $v \circ u$.
Thus, $v^{*}(u^{*}(k)) \iso (v \circ u)^{*}(k)$, which assembles into a natural isomorphism $u^{*} \circ v^{*} \iso (v \circ u)^{*}$.
\begin{mathpar}
  \input{img/cloven02} \and \input{img/cloven03}
\end{mathpar}

Similarly, for any $i \in \iE_{I}$, the identity $\id_{i} : i \to i$ is Cartesian over the identity $\id_{I} : I \to I$.
The cleavage yields another Cartesian morphism in $\iE$.
Thus, $\id_{\iE_{I}}(i) \iso (\id_{I})^{*}(i)$, which assembles into a natural isomorphism $\id_{\iE_{I}} \iso (\id_{I})^{*}$.
\input{img/cloven04}

To summarize, the assignment $* : \iB\op \to \mathsf{Cat}$ has the following natural isomorphisms:
\begin{mathpar}
  \eta_{I} : \id_{\iE_{I}} \iso (\id_{I})^{*}
  \and
  \mu_{u,v} : u^{*} \circ v^{*} \iso (v \circ u)^{*}
\end{mathpar}

\begin{defn}
  A \emph{split} fibration is a cloven fibration in which all components of $\eta_{I}$ and $\mu_{u,v}$ are identities.
  The cleavage involved is often called a \emph{splitting}.
\end{defn}

The natural isomorphisms given above satisfy additional coherence conditions:
\begin{mathpar}
  \begin{array}{cl}
    \input{img/pseudo01} & \text{for } I \overset{u}{\to} J\\
    \input{img/pseudo02} & \text{for } I \overset{u}{\to} J \overset{v}{\to} K \overset{w}{\to} L
  \end{array}
\end{mathpar}
The data of the assignment $* : \iB\op \to \mathsf{Cat}$ together with witnesses of the coherence conditions assemble into a \emph{pseudofunctor}.

\begin{defn}
  An \emph{indexed category} is a pseudofunctor $* : \iB\op \to \mathsf{Cat}$.
\end{defn}

The process we have described thus far turns a cloven fibration into an indexed category.

\begin{defn}
  The \emph{Grothendieck construction} goes in the opposite direction, turning an indexed category into a cloven fibration.
  
  Let $* : \iB\op \to \mathsf{Cat}$ be an indexed category.
  The \emph{Grothendieck completion} $\int*$ is a category consisting of
  \begin{center}
    \begin{tabularx}{\linewidth}{rX}
      \textbf{objects} & an object $(I, X)$ consists of $I \in \iB$ and $X \in \iE_{I} = I^{*}$\\
      \textbf{morphisms} & a morphism $(I, X) \to (J, Y)$ consists of a morphism $u : I \to J$ in $\iB$ and $f : X \to u^{*}(Y)$ in $\iE_{I}$.
    \end{tabularx}
  \end{center}
  The identity $(I, X) \to (I, X)$ consists of $\id_{I} : I \to I$ and the isomorphism $\eta_{I,X} : X \iso (\id_{I})^{*}(X)$.
  For any two composable morphisms $(u, f) : (I, X) \to (J, Y)$ and $(v, g) : (J, Y) \to (K, Z)$, the composition is given by $(v \circ u, \mu_{u,v,Z} \circ u^{*}(g) \circ f)$.

  The coherence conditions of $\eta$ and $\mu$ ensure that identities and compositions satisfy unitality and associativity.
\end{defn}

\bibliographystyle{alpha}
\bibliography{all}

\end{document}
